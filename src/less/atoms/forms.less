
/* override bootstrap 3 button font sizes to use rems */
.input-group {
    font-size: @sz-md;
    .input-group-sm { font-size: @sz-sm; }
}
.input-group-addon { font-size: @sz-md; }

//force form-controls to use rem/ems for sizing and padding
.form-control {
    font-size:  @sz-md;
    height:     2.25em;
    padding:    0.375em 0.75em;
}
textarea.form-control { height: auto; }



.form-control.input-sm,
.input-group-slick > input.form-control.input-sm,
.input-group-slick > textarea.form-control.input-sm,
.input-group-slick > select.form-control.input-sm {
    font-size: @sz-sm;
}

body .input-group-lg > .form-control,
body .input-group-lg > .input-group-addon,
body .input-group-lg > .input-group-btn > .btn {
    font-size: @sz-lg;
    height: 2.5em;
    padding: 0.556em 0.889em;
}




//multiple .btn elements within .input-group-btn
.input-group-btn:last-child {

    & >.btn:last-child:not(:first-child) {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    & >.btn:not(:last-child) {
        border-radius: 0;
        margin-left: -1px;
    }
}



/* ================================ *\
    Input Group "Slick"
    custom input group that inlines
    the icons without borders and
    background color differences
\* ================================ */
.input-group-slick {

    position: relative;
    font-size: @sz-md;

    &.active { background-color: transparent; }

    .input-group-lg & { font-size: @sz-lg; }

    &.input-group-slick--lg {

        & > .glyphicon,
        & > .fa, & > .far, & > .fas,
        & > .gpicons { top: 0.875em; }

        & > .form-control {
            font-size: @sz-lg;
            height:    2.25em;
        }
    }

    &.input-group-slick--sm {

        font-size: @sz-sm;

        & > .glyphicon,
        & > .fa, & > .far, & > .fas,
        & > .gpicons { top: 0.575em; }

        & > .form-control {
            height: 2.125em;
            font-size: @sz-sm;
        }
    }


    & > .btn {
        position: absolute;
        top:    1px;
        bottom: 1px;

        &.active { border-color: transparent; }

        &:first-child {
            left: 1px;
            border-style: none solid none none;
            border-radius: 0.25em 0 0 0.25em;
        }
        &:last-child {
            right: 1px;
            border-style: none none none solid;
            border-radius: 0 0.25em 0.25em 0;
        }
    }

    & > .glyphicon,
    & > .fa, & > .far, & > .fas,
    & > .gpicons {
        position: absolute;
        top: @sz-sm;
        color: lighten(@color-gray-md, 5%);

        &:first-child { left: @sz-sm; }
        &:last-child {  right: @sz-sm; }

    }

    & > input.form-control {

        height:         2.4em; /* bootstrap 4 tweak to keep input same height as prepend/append */

        padding-left:   2.5em;
        padding-right:  2.5em;

        //pad form control without a sibling on an end
        &:first-child { padding-left: @sz-md; }
        &:last-child {  padding-right: @sz-md; }

        //hide ie10+ auto-added clear button from the input
        &::-ms-clear { display: none; }
    }


    /* SELECT FORM CONTROLS */

    & > select.form-control:first-child {
        text-indent: 0!important;
    }

    //only indent select content if not first child
    & > select.form-control:not(:first-child) {
        text-indent: 2em;
    }

    //indent select content over a bit more if following a button
    & > .btn + select.form-control {
        text-indent: 2.5em;
    }

}





/* ---------------------------------- *\
    Wrapped by .input-group
\* ---------------------------------- */

.input-group .input-group-slick {
    display: table-cell;
    flex: 1 1 auto; /* update for bootstrap 4 when input-group-slick within an input-group */
    width: 1%;      /*  ----  */

    //ensure icons always render above the form control, even when focused
    & > .glyphicon,
    & > .fa, & > .far, & > .fas,
    & > .gpicons { z-index: 3000;  }

    .input-group-btn .btn { padding: 0.375em 0.75em; }
}
.input-group .input-group-slick {
    position: relative;
    z-index: 2;
    // float: left;
    // width: 100%;
    margin-bottom: 0;
}
.input-group .input-group-slick:first-child > .form-control {
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
}
.input-group .input-group-slick:last-child > .form-control {
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
}




.input-group > select { height: 2.25em; }














//apply angular-based validation css classes to angular-ui bootstrap datepicker
// This should probably go inside ng-common but could be used in a project without
// having ng-common as a dependency
[uib-datepicker].ng-valid {
    padding: 0.25em;
    border: 2px solid transparent;
}
[uib-datepicker].ng-invalid {
    padding: 0.25em;
    border: 2px solid @color-danger;
}
